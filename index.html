<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spanish Conjugation Battleship</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>âš“ BATALLA DE BARCOS âš“</h1>
        <div class="game-controls">
            <button id="verb-selector-btn" class="btn btn-primary">Select Verbs</button>
            <button id="reset-game-btn" class="btn btn-secondary">Reset Game</button>
        </div>
    </header>

    <main>
        <div id="ship-animation-container"></div>
        <!-- Verb Selection Modal -->
        <div id="verb-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Verbs and Tenses</h2>
                    <span class="close">&times;</span>
                </div>
                <div class="modal-body">
                    <div class="search-container">
                        <input type="text" id="verb-search" placeholder="Search verbs..." class="search-input">
                    </div>
                    <div class="tense-selection" style="margin-bottom: 1.5rem;">
                        <label for="tense-select" style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: #e3f2fd;">Select Tense:</label>
                        <select id="tense-select" class="search-input">
                        </select>
                    </div>
                    <div class="irregularity-selection" style="margin-bottom: 1.5rem;">
                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: #e3f2fd;">Filter by Irregularity Type:</label>
                        <div id="irregularity-options" style="display: flex; flex-wrap: wrap; gap: 0.8rem;">
                        </div>
                    </div>
                    <div class="reflexive-filter" style="margin-bottom: 1.5rem;">
                        <label>
                            <input type="checkbox" id="filter-reflexive-verbs" style="transform: scale(1.3); accent-color: #42a5f5; margin-right: 0.5rem;">
                            Show only reflexive verbs
                        </label>
                    </div>
                    <div id="verb-list" class="verb-list">
                        <!-- Verbs will be populated by JavaScript -->
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="apply-verbs-btn" class="btn btn-primary">Apply Selection</button>
                    <button id="cancel-verbs-btn" class="btn btn-secondary">Cancel</button>
                </div>
            </div>
        </div>

        <!-- Game Phase Indicator -->
        <div id="game-phase" class="game-phase">
            <span id="phase-text">Phase: Ship Placement</span>
            <div id="ship-placement-controls" class="ship-controls">
                <button id="fix-ships-btn" class="btn btn-success btn-disabled" disabled>Fix Ships</button>
                <div class="ship-counter">
                    <span>Ships to place: <span id="ships-remaining">5</span></span>
                </div>
            </div>
        </div>

        <!-- Game Boards Container -->
        <div class="boards-container">
            <div id="ships-container" class="ships-container">
                <h3>Ships to Place</h3>
                <div class="ships-list">
                    <div id="ship-carrier" class="ship selectable-ship" data-ship="carrier" data-size="5" data-orientation="horizontal">
                        <span class="ship-name">Carrier (5)</span>
                        <button class="rotate-btn" onclick="rotateShip(this)">â†»</button>
                        
                        <div class="ship-visual">
                            <div class="ship-cell"></div>
                            <div class="ship-cell"></div>
                            <div class="ship-cell"></div>
                            <div class="ship-cell"></div>
                            <div class="ship-cell"></div>
                        </div>
                    </div>
                    <div id="ship-battleship" class="ship selectable-ship" data-ship="battleship" data-size="4" data-orientation="horizontal">
                        <span class="ship-name">Battleship (4)</span>
                        <button class="rotate-btn" onclick="rotateShip(this)">â†»</button>
                        
                        <div class="ship-visual">
                            <div class="ship-cell"></div>
                            <div class="ship-cell"></div>
                            <div class="ship-cell"></div>
                            <div class="ship-cell"></div>
                        </div>
                    </div>
                    <div id="ship-cruiser" class="ship selectable-ship" data-ship="cruiser" data-size="3" data-orientation="horizontal">
                        <span class="ship-name">Cruiser (3)</span>
                        <button class="rotate-btn" onclick="rotateShip(this)">â†»</button>
                        
                        <div class="ship-visual">
                            <div class="ship-cell"></div>
                            <div class="ship-cell"></div>
                            <div class="ship-cell"></div>
                        </div>
                    </div>
                    <div id="ship-submarine" class="ship selectable-ship" data-ship="submarine" data-size="3" data-orientation="horizontal">
                        <span class="ship-name">Submarine (3)</span>
                        <button class="rotate-btn" onclick="rotateShip(this)">â†»</button>
                        
                        <div class="ship-visual">
                            <div class="ship-cell"></div>
                            <div class="ship-cell"></div>
                            <div class="ship-cell"></div>
                        </div>
                    </div>
                    <div id="ship-destroyer" class="ship selectable-ship" data-ship="destroyer" data-size="2" data-orientation="horizontal">
                        <span class="ship-name">Destroyer (2)</span>
                        <button class="rotate-btn" onclick="rotateShip(this)">â†»</button>
                        
                        <div class="ship-visual">
                            <div class="ship-cell"></div>
                            <div class="ship-cell"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="boards-wrapper">
                <!-- Own Board (Defense) -->
                <div class="board-section">
                    <h2>My Fleet</h2>
                    <div class="board-wrapper">
                        <div id="own-board" class="game-board">
                        <div class="board-header">
                            <div class="corner-cell"></div>
                            <div class="pronoun-cell">yo</div>
                            <div class="pronoun-cell">tÃº</div>
                            <div class="pronoun-cell">Ã©l/ella</div>
                            <div class="pronoun-cell">nosotros</div>
                            <div class="pronoun-cell">vosotros</div>
                            <div class="pronoun-cell">ellos/ellas</div>
                        </div>
                        <div id="own-board-grid" class="board-grid">
                            <!-- Grid will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
                <div class="board-legend">
                    <span class="legend-item">
                        <span class="legend-color water"></span> Water
                    </span>
                    <span class="legend-item">
                        <span class="legend-color hit"></span> Hit
                    </span>
                    <span class="legend-item">
                        <span class="legend-color sunk"></span> Sunk
                    </span>
                </div>
            </div>

                <!-- Attack Board -->
                <div class="board-section enemy-board">
                    <h2>Enemy Fleet</h2>
                    <p class="attack-tip">ðŸ’¡ Tip: Once unlocked, click squares to cycle through ðŸ’§ / ðŸ’¥ / ðŸ’€</p>
                    <div class="board-wrapper">
                        <div id="attack-board" class="game-board">
                        <div class="board-header">
                            <div class="corner-cell"></div>
                            <div class="pronoun-cell">yo</div>
                            <div class="pronoun-cell">tÃº</div>
                            <div class="pronoun-cell">Ã©l/ella</div>
                            <div class="pronoun-cell">nosotros</div>
                            <div class="pronoun-cell">vosotros</div>
                            <div class="pronoun-cell">ellos/ellas</div>
                        </div>
                        <div id="attack-board-grid" class="board-grid">
                            <!-- Grid will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
                <div class="attack-controls">
                    <button id="water-btn" class="btn btn-state active" data-state="water">ðŸ’§ Water</button>
                    <button id="hit-btn" class="btn btn-state" data-state="hit">ðŸ’¥ Hit</button>
                    <button id="sunk-btn" class="btn btn-state" data-state="sunk">ðŸ’€ Sunk</button>
                </div>
            </div>
            </div> <!-- end boards-wrapper -->
        </div>

        <!-- Game Info -->
        <div id="game-info" class="game-info">
            <div class="info-section">
                <h3>Current Turn</h3>
                <p id="turn-info">Place your ships on the board</p>
            </div>
            <div class="info-section">
                <h3>Selected Verbs</h3>
                <div id="selected-verbs" class="selected-verbs-display">
                    <!-- Selected verbs will be shown here -->
                </div>
            </div>
        </div>
    </main>

    <!-- Attack Modal -->
    <div id="attack-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Attack Position</h2>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <div class="attack-info">
                    <p>Position: <span id="attack-position"></span></p>
                    <p>Verb: <span id="attack-verb"></span></p>
                    <p>Pronoun: <span id="attack-pronoun"></span></p>
                    <p>Tense: <span id="attack-tense"></span></p>
                </div>
                <div class="conjugation-input">
                    <label for="conjugation">Enter the correct conjugation:</label>
                    <input type="text" id="conjugation" placeholder="e.g., hablo">
                    <button id="check-conjugation-btn" class="btn btn-primary">Check</button>
                </div>
                <div id="conjugation-result" class="conjugation-result"></div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
